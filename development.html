

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Development &mdash; cclib 1.2b documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.2b',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="cclib 1.2b documentation" href="index.html" />
    <link rel="next" title="Development parsed data" href="data_dev.html" />
    <link rel="prev" title="Calculation methods" href="methods.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="data_dev.html" title="Development parsed data"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="methods.html" title="Calculation methods"
             accesskey="P">previous</a> |</li>
        <li><a href="contents.html">cclib 1.2b documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="development">
<h1>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h1>
<div class="section" id="instructions-for-developers">
<h2>Instructions for developers<a class="headerlink" href="#instructions-for-developers" title="Permalink to this headline">¶</a></h2>
<p>Note that the sources that are normally published and distributed, as described in the <a class="reference external" href="tutorial.html">tutorial</a>, do not include the unit tests and logfiles necessary to run those tests. This section covers how to download the full source distribution and use it for development and testing.</p>
<div class="section" id="cloning-cclib-from-github">
<h3>Cloning cclib from github<a class="headerlink" href="#cloning-cclib-from-github" title="Permalink to this headline">¶</a></h3>
<p>cclib is hosted by the fantastic people at <a class="reference external" href="https://github.com">GitHub</a> (previously at <a class="reference external" href="https://sourceforge.net">Sourceforge</a>) in a <a class="reference external" href="http://git-scm.com">git</a> repository. You can download a <a class="reference external" href="https://github.com/cclib/cclib/archive/master.zip">zipped archive</a> of the current development version (called <cite>master</cite>) for installation and testing. In order to contribute any changes, however, you will need to create a local copy of the repository:</p>
<div class="highlight-bash"><div class="highlight"><pre>git clone https://github.com/cclib/cclib.git cclib
</pre></div>
</div>
</div>
<div class="section" id="releasing-a-version">
<h3>Releasing a version<a class="headerlink" href="#releasing-a-version" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Update the <a class="reference external" href="https://github.com/cclib/cclib/blob/master/CHANGELOG">CHANGELOG</a> and <a class="reference external" href="https://github.com/cclib/cclib/blob/master/ANNOUNCE">ANNOUNCE</a></li>
<li>Make sure that <a class="reference external" href="https://github.com/cclib/cclib/blob/master/setup.py">setup.py</a> has the right version number, as well as __version__ in <a class="reference external" href="https://github.com/cclib/cclib/blob/master/src/cclib/__init__.py">__init__.py</a></li>
<li>Run <a class="reference external" href="https://github.com/cclib/cclib/blob/master/manifest.py">manifest.py</a> to update the MANIFEST if necessary</li>
<li>Do a final merge of the trunk to release branch</li>
<li>Run the tests for a final time after removing cclib (for example, <tt class="docutils literal"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">$PYTHONDIR/lib/site-packages/cclib</span></tt>) and reinstalling from the source distribution</li>
<li>Tag the release (make sure to use an annotated tag using using <tt class="docutils literal"><span class="pre">git</span> <span class="pre">-a</span></tt>) and upload it (<tt class="docutils literal"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">--tags</span></tt>)</li>
<li>Create the source distributions and Windows binary</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre>python setup.py sdist --formats<span class="o">=</span>gztar,zip
python3 setup.py bdist_wininst               <span class="c"># rename from cclib-1.x.win32.exe to cclib-1.x-py2.7.exe</span>
python2.7 setup.py bdist_wininst             <span class="c"># rename to cclib-1.x-py2.7.exe</span>
</pre></div>
</div>
<ul class="simple">
<li>Create a release of Github (see <a class="reference external" href="https://help.github.com/articles/creating-releases">Creating releases</a>) and upload the source distrobitions and Windows binary</li>
<li>Update the download and install instructions in the documentation, if appropriate</li>
<li>Email the users and developers mailing list with the ANNOUNCE</li>
<li>Update the Python cheeseshop (<a class="reference external" href="https://pypi.python.org/pypi/cclib">https://pypi.python.org/pypi/cclib</a>)</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre>python setup.py register
</pre></div>
</div>
<ul class="simple">
<li>For a major release, if appropriate, send an email to the <a class="reference external" href="http://www.ccl.net">CCL list</a> and mailing lists for supported computational chemistry packages</li>
</ul>
</div>
<div class="section" id="developer-policy">
<h3>Developer policy<a class="headerlink" href="#developer-policy" title="Permalink to this headline">¶</a></h3>
<p>We follow the typical GitHub collaborative model, which relies on <a class="reference external" href="https://help.github.com/articles/using-pull-requests">forks and pull requests</a>. In short, the process consists of:</p>
<ul class="simple">
<li><a class="reference external" href="https://help.github.com/articles/fork-a-repo">Creating your own fork</a> of cclib in order to develop</li>
<li><a class="reference external" href="https://help.github.com/articles/creating-a-pull-request">Creating a pull request</a> to contribute your changes</li>
<li>Reviewing and merging open pull requests (by someone else)</li>
<li>Using <a class="reference external" href="https://github.com/cclib/cclib/issues">issues</a> to plan and prioritize future work</li>
</ul>
<p>Here are some general guidelines for developers who are contributing code:</p>
<ul class="simple">
<li>Run and review the unit tests before submitting a pull request</li>
<li>There should never be more failed tests than before your changes</li>
<li>For larger changes or features that take some time to implement, using branches is recommended:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre>git branch mybranch
git checkout mybranch
git commit -m <span class="s2">&quot;my changes that break tests&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p id="index-0">The <tt class="docutils literal"><span class="pre">test</span></tt> directory (not included in the release version at the moment) contains all of the test code that help keep cclib working, and keep us sane. The data files, which are logfiles from computational chemistry programs, are in the <tt class="docutils literal"><span class="pre">data</span></tt> directory. We use two types of data files for testing, as described below.</p>
<div class="section" id="unit-tests">
<h3>Unit tests<a class="headerlink" href="#unit-tests" title="Permalink to this headline">¶</a></h3>
<p>These basic logfiles, which are used for unit tests, are stored in folders like <tt class="docutils literal"><span class="pre">basicJaguar6.4</span></tt> and are standardized for all supported programs to the extent possible. These include B3LYP/STO-3G calculations on 1,4-divinylbenzene (dvb) with C2h symmetry, post-Hartree Fock calculations for ware and others. These jobs represent typical computation types such as geometry optimisation, a single point calculation (closed and open shell), frequency calculation, a TD-DFT calculation. These data files are stored in the git repository alongside the source dode, but are not included in the distributed source packages.</p>
<p>In order to check whether our parsers extract information in the correct format, with the correct units, we have unit tests that parse a series of basic data files (see below) of the same calculation undertaken with different programs. Running testall.py in the test directory runs the whole test suite, but it is also possible to individually run the tests for GeoOpts (testGeoOpt.py), Single Point calculations, and so on.</p>
<p>Note that no change should be commited to the repository if it increases the number of failed tests (unless you are adding new tests, of course).</p>
</div>
<div class="section" id="regression-tests">
<span id="index-1"></span><h3>Regression tests<a class="headerlink" href="#regression-tests" title="Permalink to this headline">¶</a></h3>
<p>Regression tests ensure that bugs, once fixed, stay fixed. These are real-life files that at some point broke a cclib parser, and are stored in folders like <tt class="docutils literal"><span class="pre">Jaguar6.4</span></tt>. The files associated with regression tests are not stored stored together with the source code as they are often quite large. A separate repository on github, <a class="reference external" href="https://github.com/cclib/cclib-data">cclib-data</a>, is used to track and use these files, and we do not distribute them in releases.</p>
<p>For every bug found in the parsers, there should be a corresponding regression test that tests this bug stays fixed. The process is automated by <a class="reference external" href="https://github.com/cclib/cclib/blob/master/test/regression.py">regression.py</a>, which runs through all of our test data, both the basic data and regression files, opens them, tries to parse, and runs any relevant regression tests defined for that file.</p>
<p>New regression tests are added by creating a function <tt class="docutils literal"><span class="pre">testMyFileName_out</span></tt> following the examples at the start of <a class="reference external" href="https://github.com/cclib/cclib/blob/master/test/regression.py">regression.py</a>.</p>
</div>
<div class="section" id="doc-tests">
<h3>Doc tests<a class="headerlink" href="#doc-tests" title="Permalink to this headline">¶</a></h3>
<p>Doc tests are a nice Python invention for unit testing individual functions. To run the doctests in a particular file, you need to run the script. For example, &#8220;python gaussianparser.py&#8221; runs the doctests contained in gaussianparser.py. To run all of the doctests at once, you need to install a testing tool like nose, and then use the following command (note that many errors may be due to missing libraries like BioPython):</p>
</div>
</div>
<div class="section" id="other-useful-pages">
<h2>Other useful pages<a class="headerlink" href="#other-useful-pages" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The <a class="reference external" href="methods_dev.html">methods in the development version</a></li>
<li>The <a class="reference external" href="data_dev.html">parsed data in the development version</a></li>
<li>The <a class="reference external" href="progress.html">progress page</a>, which describes where we are and what we are trying to do</li>
</ul>
</div>
<div class="section" id="websites-related-to-cclib">
<h2>Websites related to cclib<a class="headerlink" href="#websites-related-to-cclib" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The official <a class="reference external" href="https://github.com/cclib">cclib organization on github</a></li>
<li>The <a class="reference external" href="http://sourceforge.net/projects/cclib/">cclib project page on Sourceforge</a> (inactive now)</li>
<li>The <a class="reference external" href="https://www.ohloh.net/p/cclib">cclib entry on Ohloh</a></li>
<li>The <a class="reference external" href="http://www.python.org/pypi/cclib">cclib entry on Cheeseshop</a></li>
</ul>
</div>
<div class="section" id="developers">
<h2>Developers<a class="headerlink" href="#developers" title="Permalink to this headline">¶</a></h2>
<p><strong>cclib</strong> developers include the following (in alphabetical order):</p>
<ul class="simple">
<li><a class="reference external" href="http://mmqc.org">Karol M. Langner</a></li>
<li><a class="reference external" href="http://www.redbrick.dcu.ie/~noel">Noel O&#8217;Boyle</a></li>
<li>Christopher Rowley</li>
<li>Adam Tenderholt</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Development</a><ul>
<li><a class="reference internal" href="#instructions-for-developers">Instructions for developers</a><ul>
<li><a class="reference internal" href="#cloning-cclib-from-github">Cloning cclib from github</a></li>
<li><a class="reference internal" href="#releasing-a-version">Releasing a version</a></li>
<li><a class="reference internal" href="#developer-policy">Developer policy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing">Testing</a><ul>
<li><a class="reference internal" href="#unit-tests">Unit tests</a></li>
<li><a class="reference internal" href="#regression-tests">Regression tests</a></li>
<li><a class="reference internal" href="#doc-tests">Doc tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-useful-pages">Other useful pages</a></li>
<li><a class="reference internal" href="#websites-related-to-cclib">Websites related to cclib</a></li>
<li><a class="reference internal" href="#developers">Developers</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="methods.html"
                        title="previous chapter">Calculation methods</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="data_dev.html"
                        title="next chapter">Development parsed data</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/development.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="data_dev.html" title="Development parsed data"
             >next</a> |</li>
        <li class="right" >
          <a href="methods.html" title="Calculation methods"
             >previous</a> |</li>
        <li><a href="contents.html">cclib 1.2b documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, cclib Development Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>